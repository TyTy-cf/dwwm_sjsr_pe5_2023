{% extends 'front/base.html.twig' %}

{% block body %}

    <div class="d-flex my-4">
        <h1>Mon panier</h1>
        {% if games|length > 0 %}
            <button class="btn btn-danger ms-auto" data-empty-cart>
                <i class="fa fa-trash me-1"></i>
                Vider le panier
        </button>
        {% endif %}
    </div>

    <table class="table table-striped table-dark table-hover">
        <thead>
            <tr>
                <th>Jeu</th>
                <th>Prix</th>
            </tr>
        </thead>
        <tbody>
        {% set totalCart = 0 %}
            {% for game in games %}
                {% set totalCart = totalCart + game.price %}
                <tr>
                    <td class="col-6">
                        <img class="col-2 me-2"
                             src="{{ game.thumbnailCover }}"
                             alt="{{ game.name }}"
                        >
                        {{ game.name }}
                    </td>
                    <td>
                        {{ game.price }}€
                    </td>
                </tr>
            {% endfor %}
        <tr>
            <td>Total</td>
            <td>{{ totalCart }}€</td>
        </tr>
        </tbody>
    </table>

    {% if games|length > 0 %}
        <div class="d-flex my-4">
            <a class="btn btn-primary ms-auto" href="#">
                Payer
                <i class="fa fa-forward me-1"></i>
            </a>
        </div>
    {% endif %}

{% endblock %}
